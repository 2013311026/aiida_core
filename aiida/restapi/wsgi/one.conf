# To use this configuration copy this file to /etc/apache2/sites-enabled/000-default.conf

<VirtualHost *:80>
        ServerAdmin webmaster@localhost

# A unique process type and group for all apps
        WSGIProcessGroup profiles
        WSGIDaemonProcess profiles python-home=/home/gargiulo/aiida_installations/aiida_core
        WSGIScriptAlias /django /home/gargiulo/aiida/github/aiida_core/aiida/restapi/wsgi/app1/rest.wsgi
        WSGIScriptAlias /sqlalchemy /home/gargiulo/aiida/github/aiida_core/aiida/restapi/wsgi/app2/rest.wsgi

# Have this option On if authorization is done by the app rather than Apache 
        WSGIPassAuthorization On

# Require privileges on the folders of both apps
        <Directory "/home/gargiulo/aiida/github/aiida_core/aiida/restapi/wsgi/app1">
                Require all granted
        </Directory>
        <Directory "/home/gargiulo/aiida/github/aiida_core/aiida/restapi/wsgi/app2">
                Require all granted
        </Directory>

# Apache log and debug confs
        LogLevel debug
        ErrorLog ${APACHE_LOG_DIR}/error.log
        CustomLog ${APACHE_LOG_DIR}/access.log combined

</VirtualHost>


